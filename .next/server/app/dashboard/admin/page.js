(()=>{var e={};e.id=833,e.ids=[833],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},18715:(e,r,s)=>{Promise.resolve().then(s.bind(s,37667))},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29331:(e,r,s)=>{Promise.resolve().then(s.bind(s,45634))},32467:e=>{"use strict";e.exports=require("node:http2")},33873:e=>{"use strict";e.exports=require("path")},34589:e=>{"use strict";e.exports=require("node:assert")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37540:e=>{"use strict";e.exports=require("node:console")},37667:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/abubakaribrahim/Desktop/PhishDefender/src/app/dashboard/admin/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/abubakaribrahim/Desktop/PhishDefender/src/app/dashboard/admin/page.tsx","default")},37830:e=>{"use strict";e.exports=require("node:stream/web")},41204:e=>{"use strict";e.exports=require("string_decoder")},41692:e=>{"use strict";e.exports=require("node:tls")},41792:e=>{"use strict";e.exports=require("node:querystring")},44493:(e,r,s)=>{"use strict";s.d(r,{BT:()=>u,Wu:()=>c,ZB:()=>d,Zp:()=>o,aR:()=>n,wL:()=>l});var t=s(60687),i=s(43210),a=s(4780);let o=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));o.displayName="Card";let n=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let d=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let u=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));u.displayName="CardDescription";let c=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let l=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));l.displayName="CardFooter"},44708:e=>{"use strict";e.exports=require("node:https")},45634:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>q});var t=s(60687),i=s(68504),a=s(44493),o=s(89667),n=s(54300),d=s(29523),u=s(43210),c=s(6475);let l=(0,c.createServerReference)("607b09def5d2631b1a656e9e51b361ce5f51ea77f8",c.callServer,void 0,c.findSourceMapURL,"makeAdminAction");var p=s(29867),x=s(11516),m=s(69678),f=s(72963);let h={};function b({pending:e}){return(0,t.jsxs)(d.$,{type:"submit",disabled:e,children:[e?(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Make Admin"]})}function q(){let{isAdmin:e,loading:r}=(0,i.A)(),{toast:s}=(0,p.dj)(),[d,c,m]=(0,u.useActionState)(l,h);return r?(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(x.A,{className:"h-8 w-8 animate-spin"})}):e?(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Admin Panel"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage users and application settings."})]}),(0,t.jsx)("form",{action:c,children:(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsx)(a.ZB,{children:"Grant Admin Privileges"}),(0,t.jsx)(a.BT,{children:"Enter the UID of a user to grant them admin rights."})]}),(0,t.jsxs)(a.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.J,{htmlFor:"uid",children:"User ID (UID)"}),(0,t.jsx)(o.p,{id:"uid",name:"uid",placeholder:"Enter user UID",defaultValue:""})]}),d?.error&&(0,t.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),d.error]})]}),(0,t.jsx)(a.wL,{children:(0,t.jsx)(b,{pending:m})})]})})]}):(0,t.jsx)("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:(0,t.jsxs)(a.Zp,{className:"border-destructive",children:[(0,t.jsx)(a.aR,{children:(0,t.jsx)(a.ZB,{children:"Access Denied"})}),(0,t.jsx)(a.Wu,{children:(0,t.jsx)("p",{children:"You do not have permission to view this page."})})]})})}},47002:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=47002,e.exports=r},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},54300:(e,r,s)=>{"use strict";s.d(r,{J:()=>c});var t=s(60687),i=s(43210),a=s(3416),o=i.forwardRef((e,r)=>(0,t.jsx)(a.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var n=s(24224),d=s(4780);let u=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,...r},s)=>(0,t.jsx)(o,{ref:s,className:(0,d.cn)(u(),e),...r}));c.displayName=o.displayName},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72963:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(82614).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73429:e=>{"use strict";e.exports=require("node:util/types")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},82429:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>l,pages:()=>c,routeModule:()=>p,tree:()=>u});var t=s(65239),i=s(48088),a=s(88170),o=s.n(a),n=s(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let u={children:["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,37667)),"/Users/abubakaribrahim/Desktop/PhishDefender/src/app/dashboard/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,63144)),"/Users/abubakaribrahim/Desktop/PhishDefender/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/abubakaribrahim/Desktop/PhishDefender/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/abubakaribrahim/Desktop/PhishDefender/src/app/dashboard/admin/page.tsx"],l={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},84297:e=>{"use strict";e.exports=require("async_hooks")},88360:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"607b09def5d2631b1a656e9e51b361ce5f51ea77f8":()=>m});var t=s(91199);s(42087);var i=s(95427),a=s(37612);let o=require("firebase-admin");var n=s(33331);if(!o.apps.length)if(process.env.FIREBASE_SERVICE_ACCOUNT_JSON){let e=JSON.parse(process.env.FIREBASE_SERVICE_ACCOUNT_JSON);o.initializeApp({credential:o.credential.cert(e)})}else o.initializeApp();let d=a.z.object({uid:a.z.string().describe("The UID of the user to make an admin.")}),u=a.z.object({success:a.z.boolean(),message:a.z.string()}),c=i.ai.defineFlow({name:"setAdminClaimFlow",inputSchema:d,outputSchema:u},async({uid:e})=>{try{return await o.auth().setCustomUserClaims(e,{admin:!0}),{success:!0,message:`Successfully set admin claim for user ${e}.`}}catch(e){return console.error("Error setting custom claim:",e),{success:!1,message:e.message||"An unknown error occurred."}}});async function l(e){return c({uid:e})}(0,n.D)([c,l]),(0,t.A)(c,"7f5f33c4e9f718980000b2d61fccdcd3466b5f96fa",null),(0,t.A)(l,"407e2b899ea3f61719dd1a69024176b34227616435",null);var p=s(68567);let x=p.z.object({uid:p.z.string().min(1,"UID is required.")});async function m(e,r){let s=x.safeParse({uid:r.get("uid")});if(!s.success)return{error:s.error.flatten().fieldErrors.uid?.[0]};try{let e=await l(s.data.uid);if(e.success)return{message:e.message};return{error:e.message}}catch(e){return console.error(e),{error:"Failed to set admin claim: "+(e instanceof Error?e.message:"An unknown error occurred.")}}}(0,n.D)([m]),(0,t.A)(m,"607b09def5d2631b1a656e9e51b361ce5f51ea77f8",null)},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95427:(e,r,s)=>{"use strict";s.d(r,{ai:()=>a});var t=s(37612),i=s(9203);let a=(0,t.genkit)({plugins:[(0,i.YF)()],model:"googleai/gemini-2.0-flash"})}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[872,816,765,897,537],()=>s(82429));module.exports=t})();